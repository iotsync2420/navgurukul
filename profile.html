{% extends 'base.html' %}
{% block title %}Profile{% endblock %}
{% block content %}
<div class="card">
    <h2>Welcome, {{ name }} ðŸŽ“</h2>
    <p><strong>Email:</strong> {{ email }}</p>
    <a href="{{ url_for('create_class') }}" class="logout-btn">âž• Create Live Class</a>

    <h3 style="margin-top: 20px;">Your Created Classes</h3>
    {% if classes %}
        <ul style="list-style-type:none; padding:0;">
        {% for id, title, description, link, room in classes %}
            <li class="class-list-item">
                <div>
                    <strong>{{ title }}</strong><br>
                    <small>{{ description }}</small><br>
                    <a href="{{ link }}" target="_blank">{{ link }}</a>
                </div>
                <div style="margin-top:8px;">
                    <a class="small-btn" href="{{ link }}" target="_blank">Open</a>
                    <button class="small-btn" onclick="copy('{{ link }}')">Copy</button>
                </div>
            </li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No classes created yet.</p>
    {% endif %}

    <a class="logout-btn" href="{{ url_for('logout') }}">Logout</a>
</div>

<script>
function copy(text) {
  navigator.clipboard.writeText(text).then(() => {
    alert("Copied!");
  }).catch(()=> alert("Copy failed"));
}
</script>
{% endblock %}
